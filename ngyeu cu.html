<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>danh sach nguoi yeu cu</title>
</head>
<style>
    table, th, td {
        border: 1px solid #ccc;
    }

    table {
        border-collapse: collapse;
    }

    tr:hover {
        background-color: #ddd;
        cursor: pointer;
    }

</style>
<body>
<input type="text" id="name" placeholder="insert your ex's name">
<input type="number" id="age" placeholder="insert your ex's age">
<input type="text" id="location" placeholder="insert your ex's location">
<input type="number" id="time" placeholder="how many time do we meet?">
<input type="button" onclick="add()" value="ADD">
<p id="result"></p>
<script>
    class ExGirlFriend {
        constructor(name, age, location, time) {

            this.name = name;
            this.age = age;
            this.location = location;
            this.time = time;
        }


        setName(name) {

            this.name = name;
        }

        setAge(age) {
            this.age = age;
        }

        setLocation(location) {
            this.location = location;
        }

        setTime(time) {
            this.time = time;
        }

        getName() {
            return this.name;
        }

        getAge() {
            return this.age;
        }

        getLocation() {
            return this.location;
        }

        getTime() {
            return this.time;
        }
    }

    let exGirlFriendList = [];
    let exGirlFriend1 = new ExGirlFriend("Tien", "19", "Da Nang", "2");
    let exGirlFriend2 = new ExGirlFriend("Thao", "16", "Quang Nam", "4");
    let exGirlFriend3 = new ExGirlFriend("Nga", "22", "Ha Tinh", "5");

    exGirlFriendList.push(exGirlFriend1);
    exGirlFriendList.push(exGirlFriend2);
    exGirlFriendList.push(exGirlFriend3);

    display(exGirlFriendList);

    function display(list) {
        let sout = '<table>\n' +
            '    <tr>\n' +
            '        <th>ID</th>\n' +
            '        <th>Name</th>\n' +
            '        <th>Age</th>\n' +
            '        <th>Location</th>\n' +
            '        <th>Time</th>\n' +
            '    </tr>';
        for (let i = 0; i < list.length; i++) {
            sout += '<tr>\n' +
                '<td>' + (i + 1) + '</td>' +
                '<td>' + list[i].getName() + '</td>' +
                '<td>' + list[i].getAge() + '</td>' +
                '<td>' + list[i].getLocation() + '</td>' +
                '<td>' + list[i].getTime() + '</td>' +
                '<td><input type="button" onclick="edit(' + i + ')" value="Edit">' + '</td>' +
                '<td><input type="button" onclick="del(' + i + ')" value="Delete">' + '</td>' +
                '</tr>'
        }
        sout += '</table>';
        document.getElementById("result").innerHTML = sout;

    }

    function add() {
        let name = document.getElementById("name").value;
        let age = document.getElementById("age").value;
        let location = document.getElementById("location").value;
        let time = document.getElementById("time").value;
        let newData = new ExGirlFriend(name, age, location, time);
        if (name == "" || age == "" || location == "" || time == 0) {
            alert("provide all data pls");
            return false;
        } else if (!isNaN(name) || !isNaN(location)) {
            alert("name or location typed wrong")
            return false;
        } else {
            exGirlFriendList.push(newData);
            display(exGirlFriendList);
        }
        document.getElementById("name").value = "";
        document.getElementById("age").value = "";
        document.getElementById("location").value = "";
        document.getElementById("time").value = 0;
    }


    function edit(index) {
        let newName = prompt("insert new ex's name");
        let newAge = parseFloat(prompt("insert new ex's age"));
        let newLocation = prompt("insert new ex's location");
        let newTime = prompt("how many time did we meet?");

        if (newName == "" || newAge == "" || newLocation == "" || newTime == "") {
            alert("pls provide all data");
            return false;
        } else if (!isNaN(newName) || !isNaN(newLocation)) {
            alert("wrong typed");
            return false;
        } else {
            exGirlFriendList[index].setName(newName);
            exGirlFriendList[index].setAge(newAge);
            exGirlFriendList[index].setLocation(newLocation);
            exGirlFriendList[index].setTime(newTime);
            display(exGirlFriendList);
        }
    }
    function del(index) {
        let conf = confirm("do u wanna del this data");
        if (conf) {
            exGirlFriendList.splice(index, 1);
        } else {
            alert("u do not del this data")
        }
        display(exGirlFriendList);
    }


</script>
</body>
</html>